{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/shared.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AddEditEmpComponent_option_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\")(1, \"span\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const depName_r3 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(depName_r3.DepartmentName);\n  }\n}\nfunction AddEditEmpComponent_button_20_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function AddEditEmpComponent_button_20_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.addEmployee());\n    });\n    i0.ɵɵtext(1, \" Add\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddEditEmpComponent_button_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function AddEditEmpComponent_button_21_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.updateEmployee());\n    });\n    i0.ɵɵtext(1, \" Update\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\nexport class AddEditEmpComponent {\n  constructor(service) {\n    this.service = service;\n    this.EmployeeName = '';\n    this.Department = '';\n    this.DateOfJoining = '';\n    this.PhotoFileName = '';\n    this.PhotoFilePath = '';\n    this.DepartmentList = [];\n  }\n  ngOnInit() {\n    this.loadDepartmentList();\n    this.getData();\n  }\n  loadDepartmentList() {\n    this.service.getAllDepartmentNames().subscribe(data => {\n      this.DepartmentList = data;\n    });\n  }\n  getData() {\n    this.EmployeeId = this.emp.EmployeeId;\n    this.EmployeeName = this.emp.EmployeeName;\n    this.Department = this.emp.Department;\n    this.DateOfJoining = this.emp.DateOfJoining;\n    this.PhotoFileName = this.emp.PhotoFileName;\n    this.PhotoFilePath = this.service.PhotoUrl + this.PhotoFileName;\n  }\n  addEmployee() {\n    var val = {\n      EmployeeId: this.EmployeeId,\n      EmployeeName: this.EmployeeName,\n      Department: this.Department,\n      DateOfJoining: this.DateOfJoining,\n      PhotoFileName: this.PhotoFileName\n    };\n    this.service.addEmployee(val).subscribe(res => {\n      alert(res.toString());\n    });\n  }\n  updateEmployee() {\n    var val = {\n      EmployeeId: this.EmployeeId,\n      EmployeeName: this.EmployeeName,\n      Department: this.Department,\n      DateOfJoining: this.DateOfJoining,\n      PhotoFileName: this.PhotoFileName\n    };\n    this.service.updateEmployee(val).subscribe(res => {\n      alert(res.toString());\n    });\n  }\n  uploadPhoto(event) {\n    const inputElement = event.target;\n    if (inputElement.files && inputElement.files[0]) {\n      const file = inputElement.files[0];\n      console.log(file);\n      const reader = new FileReader();\n      reader.onload = e => {\n        this.PhotoFilePath = e.target?.result;\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n}\nAddEditEmpComponent.ɵfac = function AddEditEmpComponent_Factory(t) {\n  return new (t || AddEditEmpComponent)(i0.ɵɵdirectiveInject(i1.SharedService));\n};\nAddEditEmpComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AddEditEmpComponent,\n  selectors: [[\"app-add-edit-emp\"]],\n  inputs: {\n    emp: \"emp\"\n  },\n  decls: 22,\n  vars: 7,\n  consts: [[1, \"d-flex\", \"flex-row\", \"bd-highlight\", \"mb-3\"], [1, \"form-froup\", \"row\", 2, \"width\", \"60%\"], [1, \"col-sm-2\", \"col-form-label\"], [1, \"col-sm-10\"], [\"type\", \"text\", \"placeholder\", \"Enter Employee Name\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"date\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"ml-3\", \"bd-highlight\", 2, \"width\", \"40%\"], [\"height\", \"250px;\", \"width\", \"200px;\", 3, \"src\"], [\"type\", \"file\", 1, \"mt-2\", 3, \"change\"], [\"class\", \"btn btn-primary\", 3, \"click\", 4, \"ngIf\"], [1, \"btn\", \"btn-primary\", 3, \"click\"]],\n  template: function AddEditEmpComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"label\", 2);\n      i0.ɵɵtext(3, \"Employee Name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 3)(5, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function AddEditEmpComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.EmployeeName = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"label\", 2);\n      i0.ɵɵtext(7, \"Department\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"div\", 3)(9, \"select\", 5);\n      i0.ɵɵlistener(\"ngModelChange\", function AddEditEmpComponent_Template_select_ngModelChange_9_listener($event) {\n        return ctx.Department = $event;\n      });\n      i0.ɵɵelementStart(10, \"option\");\n      i0.ɵɵtext(11, \"---select---\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, AddEditEmpComponent_option_12_Template, 3, 1, \"option\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"label\", 2);\n      i0.ɵɵtext(14, \"Date of joining\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"div\", 3)(16, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function AddEditEmpComponent_Template_input_ngModelChange_16_listener($event) {\n        return ctx.DateOfJoining = $event;\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(17, \"div\", 8);\n      i0.ɵɵelement(18, \"img\", 9);\n      i0.ɵɵelementStart(19, \"input\", 10);\n      i0.ɵɵlistener(\"change\", function AddEditEmpComponent_Template_input_change_19_listener($event) {\n        return ctx.uploadPhoto($event);\n      });\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵtemplate(20, AddEditEmpComponent_button_20_Template, 2, 0, \"button\", 11);\n      i0.ɵɵtemplate(21, AddEditEmpComponent_button_21_Template, 2, 0, \"button\", 11);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(5);\n      i0.ɵɵproperty(\"ngModel\", ctx.EmployeeName);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.Department);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.DepartmentList);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.DateOfJoining);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"src\", ctx.PhotoFilePath, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.emp.EmployeeId == 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.emp.EmployeeId != 0);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.NgSelectOption, i3.ɵNgSelectMultipleOption, i3.DefaultValueAccessor, i3.SelectControlValueAccessor, i3.NgControlStatus, i3.NgModel],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;IAgBQA,8BAA+C;IACvCA,YAA4B;IAAAA,iBAAO;;;;IAAnCA,eAA4B;IAA5BA,+CAA4B;;;;;;IAiB5CA,kCAIC;IAHCA;MAAAA;MAAA;MAAA,OAASA,mCAAa;IAAA,EAAC;IAIvBA,sBACF;IAAAA,iBAAS;;;;;;IACTA,kCAIC;IAHCA;MAAAA;MAAA;MAAA,OAASA,sCAAgB;IAAA,EAAC;IAI1BA,yBACF;IAAAA,iBAAS;;;ACvCT,OAAM,MAAOC,mBAAmB;EAC9BC,YAAoBC,OAAsB;IAAtB,YAAO,GAAPA,OAAO;IAG3B,iBAAY,GAAW,EAAE;IACzB,eAAU,GAAW,EAAE;IACvB,kBAAa,GAAW,EAAE;IAC1B,kBAAa,GAAW,EAAE;IAC1B,kBAAa,GAAW,EAAE;IAE1B,mBAAc,GAAQ,EAAE;EATqB;EAW7CC,QAAQ;IACN,IAAI,CAACC,kBAAkB,EAAE;IACzB,IAAI,CAACC,OAAO,EAAE;EAChB;EAEAD,kBAAkB;IAChB,IAAI,CAACF,OAAO,CAACI,qBAAqB,EAAE,CAACC,SAAS,CAAEC,IAAS,IAAI;MAC3D,IAAI,CAACC,cAAc,GAAGD,IAAI;IAC5B,CAAC,CAAC;EACJ;EACAH,OAAO;IACL,IAAI,CAACK,UAAU,GAAG,IAAI,CAACC,GAAG,CAACD,UAAU;IACrC,IAAI,CAACE,YAAY,GAAG,IAAI,CAACD,GAAG,CAACC,YAAY;IACzC,IAAI,CAACC,UAAU,GAAG,IAAI,CAACF,GAAG,CAACE,UAAU;IACrC,IAAI,CAACC,aAAa,GAAG,IAAI,CAACH,GAAG,CAACG,aAAa;IAC3C,IAAI,CAACC,aAAa,GAAG,IAAI,CAACJ,GAAG,CAACI,aAAa;IAC3C,IAAI,CAACC,aAAa,GAAG,IAAI,CAACd,OAAO,CAACe,QAAQ,GAAG,IAAI,CAACF,aAAa;EACjE;EAEAG,WAAW;IACT,IAAIC,GAAG,GAAG;MACRT,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BE,YAAY,EAAE,IAAI,CAACA,YAAY;MAC/BC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,aAAa,EAAE,IAAI,CAACA,aAAa;MACjCC,aAAa,EAAE,IAAI,CAACA;KACrB;IACD,IAAI,CAACb,OAAO,CAACgB,WAAW,CAACC,GAAG,CAAC,CAACZ,SAAS,CAAEa,GAAG,IAAI;MAC9CC,KAAK,CAACD,GAAG,CAACE,QAAQ,EAAE,CAAC;IACvB,CAAC,CAAC;EACJ;EAEAC,cAAc;IACZ,IAAIJ,GAAG,GAAG;MACRT,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BE,YAAY,EAAE,IAAI,CAACA,YAAY;MAC/BC,UAAU,EAAE,IAAI,CAACA,UAAU;MAC3BC,aAAa,EAAE,IAAI,CAACA,aAAa;MACjCC,aAAa,EAAE,IAAI,CAACA;KACrB;IACD,IAAI,CAACb,OAAO,CAACqB,cAAc,CAACJ,GAAG,CAAC,CAACZ,SAAS,CAAEa,GAAG,IAAI;MACjDC,KAAK,CAACD,GAAG,CAACE,QAAQ,EAAE,CAAC;IACvB,CAAC,CAAC;EACJ;EAEAE,WAAW,CAACC,KAAU;IACpB,MAAMC,YAAY,GAAGD,KAAK,CAACE,MAA0B;IACrD,IAAID,YAAY,CAACE,KAAK,IAAIF,YAAY,CAACE,KAAK,CAAC,CAAC,CAAC,EAAE;MAC/C,MAAMC,IAAI,GAAGH,YAAY,CAACE,KAAK,CAAC,CAAC,CAAC;MAClCE,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;MACjB,MAAMG,MAAM,GAAG,IAAIC,UAAU,EAAE;MAC/BD,MAAM,CAACE,MAAM,GAAIC,CAAC,IAAI;QACpB,IAAI,CAACnB,aAAa,GAAGmB,CAAC,CAACR,MAAM,EAAES,MAAgB;MACjD,CAAC;MACDJ,MAAM,CAACK,aAAa,CAACR,IAAI,CAAC;;EAE9B;;AApEW7B,mBAAmB;mBAAnBA,mBAAmB;AAAA;AAAnBA,mBAAmB;QAAnBA,mBAAmB;EAAAsC;EAAAC;IAAA5B;EAAA;EAAA6B;EAAAC;EAAAC;EAAAC;IAAA;MDRhC5C,8BAA+C;MAEJA,6BAAa;MAAAA,iBAAQ;MAC5DA,8BAAuB;MAInBA;QAAA;MAAA,EAA0B;MAH5BA,iBAKE;MAGJA,gCAAuC;MAAAA,0BAAU;MAAAA,iBAAQ;MACzDA,8BAAuB;MACQA;QAAA;MAAA,EAAwB;MACnDA,+BAAQ;MAAAA,6BAAY;MAAAA,iBAAS;MAC7BA,4EAES;MACXA,iBAAS;MAGXA,iCAAuC;MAAAA,gCAAe;MAAAA,iBAAQ;MAC9DA,+BAAuB;MACFA;QAAA;MAAA,EAA2B;MAA9CA,iBAAsE;MAI1EA,+BAAkD;MAChDA,0BAA4D;MAC5DA,kCAAiE;MAA9CA;QAAA,OAAU6C,uBAAmB;MAAA,EAAC;MAAjD7C,iBAAiE;MAIrEA,6EAMS;MACTA,6EAMS;;;MAxCDA,eAA0B;MAA1BA,0CAA0B;MAOCA,eAAwB;MAAxBA,wCAAwB;MAEvBA,eAAiB;MAAjBA,4CAAiB;MAQ5BA,eAA2B;MAA3BA,2CAA2B;MAK3CA,eAAqB;MAArBA,yDAAqB;MAO3BA,eAAyB;MAAzBA,8CAAyB;MAOzBA,eAAyB;MAAzBA,8CAAyB","names":["i0","AddEditEmpComponent","constructor","service","ngOnInit","loadDepartmentList","getData","getAllDepartmentNames","subscribe","data","DepartmentList","EmployeeId","emp","EmployeeName","Department","DateOfJoining","PhotoFileName","PhotoFilePath","PhotoUrl","addEmployee","val","res","alert","toString","updateEmployee","uploadPhoto","event","inputElement","target","files","file","console","log","reader","FileReader","onload","e","result","readAsDataURL","selectors","inputs","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\pc\\Desktop\\ProjectSaviss\\ui\\angular\\src\\app\\employee\\add-edit-emp\\add-edit-emp.component.html","C:\\Users\\pc\\Desktop\\ProjectSaviss\\ui\\angular\\src\\app\\employee\\add-edit-emp\\add-edit-emp.component.ts"],"sourcesContent":["<div class=\"d-flex flex-row bd-highlight mb-3\">\n  <div class=\"form-froup row\" style=\"width: 60%\">\n    <label class=\"col-sm-2 col-form-label\">Employee Name</label>\n    <div class=\"col-sm-10\">\n      <input\n        type=\"text\"\n        class=\"form-control\"\n        [(ngModel)]=\"EmployeeName\"\n        placeholder=\"Enter Employee Name\"\n      />\n    </div>\n\n    <label class=\"col-sm-2 col-form-label\">Department</label>\n    <div class=\"col-sm-10\">\n      <select class=\"form-control\" [(ngModel)]=\"Department\">\n        <option>---select---</option>\n        <option *ngFor=\"let depName of DepartmentList\">\n          <span>{{ depName.DepartmentName }}</span>\n        </option>\n      </select>\n    </div>\n\n    <label class=\"col-sm-2 col-form-label\">Date of joining</label>\n    <div class=\"col-sm-10\">\n      <input type=\"date\" [(ngModel)]=\"DateOfJoining\" class=\"form-control\" />\n    </div>\n  </div>\n\n  <div class=\"ml-3 bd-highlight\" style=\"width: 40%\">\n    <img [src]=\"PhotoFilePath\" height=\"250px;\" width=\"200px;\" />\n    <input type=\"file\" (change)=\"uploadPhoto($event)\" class=\"mt-2\" />\n  </div>\n</div>\n\n<button\n  (click)=\"addEmployee()\"\n  *ngIf=\"emp.EmployeeId == 0\"\n  class=\"btn btn-primary\"\n>\n  Add\n</button>\n<button\n  (click)=\"updateEmployee()\"\n  *ngIf=\"emp.EmployeeId != 0\"\n  class=\"btn btn-primary\"\n>\n  Update\n</button>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { SharedService } from 'src/app/shared.service';\n\n@Component({\n  selector: 'app-add-edit-emp',\n  templateUrl: './add-edit-emp.component.html',\n  styleUrls: ['./add-edit-emp.component.css'],\n})\nexport class AddEditEmpComponent implements OnInit {\n  constructor(private service: SharedService) {}\n  @Input() emp: any;\n  EmployeeId: any;\n  EmployeeName: string = '';\n  Department: string = '';\n  DateOfJoining: string = '';\n  PhotoFileName: string = '';\n  PhotoFilePath: string = '';\n\n  DepartmentList: any = [];\n\n  ngOnInit(): void {\n    this.loadDepartmentList();\n    this.getData();\n  }\n\n  loadDepartmentList() {\n    this.service.getAllDepartmentNames().subscribe((data: any) => {\n      this.DepartmentList = data;\n    });\n  }\n  getData() {\n    this.EmployeeId = this.emp.EmployeeId;\n    this.EmployeeName = this.emp.EmployeeName;\n    this.Department = this.emp.Department;\n    this.DateOfJoining = this.emp.DateOfJoining;\n    this.PhotoFileName = this.emp.PhotoFileName;\n    this.PhotoFilePath = this.service.PhotoUrl + this.PhotoFileName;\n  }\n\n  addEmployee() {\n    var val = {\n      EmployeeId: this.EmployeeId,\n      EmployeeName: this.EmployeeName,\n      Department: this.Department,\n      DateOfJoining: this.DateOfJoining,\n      PhotoFileName: this.PhotoFileName,\n    };\n    this.service.addEmployee(val).subscribe((res) => {\n      alert(res.toString());\n    });\n  }\n\n  updateEmployee() {\n    var val = {\n      EmployeeId: this.EmployeeId,\n      EmployeeName: this.EmployeeName,\n      Department: this.Department,\n      DateOfJoining: this.DateOfJoining,\n      PhotoFileName: this.PhotoFileName,\n    };\n    this.service.updateEmployee(val).subscribe((res) => {\n      alert(res.toString());\n    });\n  }\n\n  uploadPhoto(event: any) {\n    const inputElement = event.target as HTMLInputElement;\n    if (inputElement.files && inputElement.files[0]) {\n      const file = inputElement.files[0];\n      console.log(file);\n      const reader = new FileReader();\n      reader.onload = (e) => {\n        this.PhotoFilePath = e.target?.result as string;\n      };\n      reader.readAsDataURL(file);\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}